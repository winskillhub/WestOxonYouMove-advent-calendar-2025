<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NSM0QK3M09"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NSM0QK3M09');
</script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advent Calendar</title>
<style>
  body {
    font-family: "Poppins", sans-serif;
    background: radial-gradient(circle at top, #b30000 0%, #660000 100%);
    color: #fff;
    text-align: center;
    margin: 0;
    padding: 2rem;
    background-attachment: fixed;
    overflow-x: hidden;
  }

  h1 {
    margin-bottom: 1rem;
    text-shadow: 2px 2px 6px rgba(0,0,0,0.4);
  }

  .calendar {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 10px;
    max-width: 700px;
    margin: 0 auto;
    z-index: 1;
    position: relative;
  }

  .door {
    position: relative;
    perspective: 600px;
    cursor: pointer;
    height: 90px;
    font-weight: bold;
    font-size: 1.2rem;
    border-radius: 8px;
    overflow: visible;
  }

  .door.locked {
    cursor: not-allowed;
    opacity: 0.6;
  }

  .door-front, .door-inside {
    width: 100%;
    height: 100%;
    border-radius: 8px;
    border: 2px solid #fff;
    position: absolute;
    top: 0;
    left: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    backface-visibility: hidden;
    transition: transform 0.8s ease;
    transform-origin: left center;
  }

  .door-front {
    background: #d22;
    color: #fff;
    z-index: 2;
  }

  .door-front:hover:not(.locked) {
    transform: scale(1.05);
  }

  .door-inside {
    background: #080;
    color: #fff;
    z-index: 1;
  }

  .door.opened .door-front {
    transform: rotateY(-120deg);
    box-shadow: 6px 0 12px rgba(0,0,0,0.4);
  }

  .content {
    display: none;
    margin-top: 1.5rem;
    font-size: 1.2rem;
    background: rgba(255,255,255,0.1);
    border: 1px solid #fff;
    border-radius: 8px;
    padding: 1rem;
    width: fit-content;
    margin-left: auto;
    margin-right: auto;
  }

  #resetBtn {
    margin-top: 1.5rem;
    background: #fff;
    color: #b30000;
    font-weight: bold;
    border: none;
    border-radius: 6px;
    padding: 0.6rem 1rem;
    cursor: pointer;
    transition: all 0.3s;
  }
  #resetBtn:hover {
    background: #fdd;
  }

  #snow {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
  }

  @media (max-width: 600px) {
    .calendar { grid-template-columns: repeat(4, 1fr); }
    .door { height: 70px; font-size: 1rem; }
  }
  @media (max-width: 400px) {
    .calendar { grid-template-columns: repeat(3, 1fr); }
    .door { height: 65px; font-size: 0.9rem; }
  }
</style>
</head>
<body>

<h1>
  ğŸ„ <img src="YouMove.png" alt="YouMove" style="height:40px; vertical-align:middle;"> Advent Calendar ğŸ
</h1>
<p>Click the doors to reveal your daily surprise!</p>

<audio id="bgMusic" src="https://www.orangefreesounds.com/wp-content/uploads/2016/07/Carol-of-the-bells.mp3" loop></audio>
<button id="musicBtn">ğŸ¶ Play Christmas Music</button>

<canvas id="snow"></canvas>
<div class="calendar" id="calendar"></div>
<div class="content" id="contentBox"></div>
<button id="resetBtn">ğŸ” Reset Calendar</button>

<script>
const TEST_MODE = false;

// ---------------------------
// DATE OVERRIDE FOR TESTING
// ---------------------------
// Set TEST_DATE to simulate any date.
// months are 0-indexed â†’ 11 = December
// Example: Pretend it's Dec 10 â†’ { month: 11, day: 10 }
const TEST_DATE = null;
// Set to null for normal date behaviour.
// ---------------------------


// --------- GET TODAY'S DATE (WITH OVERRIDE) ----------
let today = new Date();

if (TEST_DATE) {
  today = new Date(today.getFullYear(), TEST_DATE.month, TEST_DATE.day);
}

const month = today.getMonth();
const day = today.getDate();
// -----------------------------------------------------


const messages = [
  `ğŸ’ƒğŸ•º Advent has begun! Have a Christmas Dance Party. <br> Put on your favourite Christmas songs and dance around the room ğŸ’ƒğŸ•º`,
  `ğŸ–ï¸ Do a Christmas-themed colouring or drawing session ğŸ–ï¸`,
  `What's your favourite Chrismas Movie? Try and let your family guess it by describing it with Emojis or acting it out. <br> Can you guess ours? ğŸ’šğŸ‘¹ğŸ„ğŸâŒğŸ…â¤ï¸`,
  `ğŸ’Œ Make homemade Christmas cards for an elderly neighbour or a local care home ğŸ’Œ`,
  `ğŸ§â„ï¸ Penguin Waddle Race â€“ Hold a ball or cushion between your knees and race like penguins ğŸ§â„ï¸`,
  `ğŸ„ Visit your nearest town, and take a picture of the Christmas lights.<br>Send them to YouMove@WestOxon.gov.uk ğŸ„`,
  `ğŸ§˜â€â™€ï¸ Christmas Yoga â€“ Do simple yoga poses named after Christmas things (tree pose, star pose, reindeer stretch). <br> Be creative, and send a picture to YouMove@WestOxon.gov.uk ğŸ§˜â€â™€ï¸`,
  `ğŸ’ƒğŸ•º Holiday Freeze Dance â€“ Dance until the music stops; freeze like a snowman! ğŸ’ƒğŸ•º`,
  `ğŸ„ğŸ¥ Watch a Christmas Movie. <br> Make it active by doing a 30 second wall squat every 30 minutes! ğŸ¥ğŸ„`,
  `âœ¨ Christmas Glow Walk â€“ Take a walk in the dark with torches or glow sticks and look for stars âœ¨`,
  `ğŸª Bake a Christmas Treat like a cookie or a gingerbread man ğŸª <br> Make it into a competition - who can decorate theirs the best?`,
  `ğŸ” Christmas Treasure Hunt â€“ Hide a â€œgold starâ€ or â€œSantaâ€™s hatâ€ and give clues to find it ğŸ”`,
  `ğŸ¤­ğŸ¶ Play the Christmas humming game! <br> You hum a Christmas tune and everyone has to guess it. <br> Who's the best at humming in your family? ğŸ¤­ğŸ¶`,
  `ğŸ… Play Santa Says! <br> (The rules are the same as Simon says, but it's Christmas!) ğŸ…`,
  `ğŸ„ Build a Human Christmas Tree â€“ Decorate one family member with tinsel, paper stars, and ribbons. <br> We'd love to see a picture. Send it to YouMove@WestOxon.gov.uk ğŸ„`,
  `ğŸš¶â€â™‚ï¸ / ğŸš¶â€â™€ï¸ Family Winter Walk â€“ Go for a stroll, collect pinecones, and spot robins or holly ğŸš¶â€â™‚ï¸ / ğŸš¶â€â™€ï¸`,
  `ğŸ™ Write down 3 things youâ€™re grateful for this Christmas. <br> Share your list with your family ğŸ™`,
  `ğŸ•º Make a family holiday TikTok-style dance ğŸ•º`,
  `ğŸ€ Christmas Scavenger Hunt â€“ Get someone to hide ornaments or treats around the house and race to find them ğŸ€`,
  `ğŸ² Play a board game together ğŸ²`,
  `â„ï¸ Make paper snowflakes, paper chains or a popcorn garland and hang them in your house â„ï¸`,
  `ğŸ¤ Sing along to your favourite carol or Christmas song ğŸ¤`,
  `ğŸ“– Build a blanket fort and read a Christmas story inside ğŸ“–`,
  `ğŸ… It's Christmas tomorrow! Take a silly or formal picture of your family wearing something Christmassy.<br>
   It can be an item of clothing, or a Christmas decoration!<br>
   Send it to YouMove@WestOxon.gov.uk ğŸ…<br><br>
   <img src="christmas%20team.jpg" alt="Christmas Team"
   style="max-width:90%; border-radius:10px; box-shadow:0 0 8px rgba(0,0,0,0.3);">
   <br><br>ğŸ„ <strong>Merry Christmas from WODC Physical Activity Team!</strong><br>
   We look forward to seeing you in 2026! ğŸ`
];

const calendar = document.getElementById("calendar");
const contentBox = document.getElementById("contentBox");
const openedDoors = JSON.parse(localStorage.getItem('openedDoors') || '[]');

// Music control
const bgMusic = document.getElementById("bgMusic");
const musicBtn = document.getElementById("musicBtn");
musicBtn.addEventListener("click", () => {
  if (bgMusic.paused) {
    bgMusic.volume = 0.4;
    bgMusic.play();
    musicBtn.textContent = "â¸ï¸ Pause Music";
  } else {
    bgMusic.pause();
    musicBtn.textContent = "ğŸ¶ Play Christmas Music";
  }
});

// Create doors
for (let i = 1; i <= 24; i++) {
  const door = document.createElement("div");
  door.classList.add("door");
  door.innerHTML = `
    <div class="door-front"><span>${i}</span></div>
    <div class="door-inside"></div>
  `;

  // Lock doors based on today's (or overridden) date
  if (!TEST_MODE && !(month === 11 && day >= i)) {
    door.classList.add("locked");
  }

  if (openedDoors.includes(i)) {
    door.classList.add("opened");
  }

  door.addEventListener("click", () => {
    if (door.classList.contains("locked")) return;

    door.classList.add("opened");
    if (!openedDoors.includes(i)) {
      openedDoors.push(i);
      localStorage.setItem('openedDoors', JSON.stringify(openedDoors));
    }

    contentBox.innerHTML = `<strong>Dec ${i}:</strong> ${messages[i - 1]}`;
    contentBox.style.display = "block";

    if (bgMusic.paused) {
      bgMusic.volume = 0.4;
      bgMusic.play();
      musicBtn.textContent = "â¸ï¸ Pause Music";
    }
  });

  calendar.appendChild(door);
}

// Reset button
document.getElementById("resetBtn").addEventListener("click", () => {
  if (confirm("Reset all opened doors?")) {
    localStorage.removeItem('openedDoors');
    location.reload();
  }
});

// Snow animation
const canvas = document.getElementById('snow');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let flakes = Array.from({length: 120}, () => ({
  x: Math.random() * canvas.width,
  y: Math.random() * canvas.height,
  r: Math.random() * 3 + 1,
  d: Math.random() * 0.5 + 0.5
}));

function drawFlakes() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = "white";
  ctx.beginPath();
  for (let f of flakes) {
    ctx.moveTo(f.x, f.y);
    ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
  }
  ctx.fill();
  moveFlakes();
}

let angle = 0;
function moveFlakes() {
  angle += 0.01;
  for (let f of flakes) {
    f.y += Math.pow(f.d, 2) + 1;
    f.x += Math.sin(angle) * 2;
    if (f.y > canvas.height) {
      f.y = 0;
      f.x = Math.random() * canvas.width;
    }
  }
}

setInterval(drawFlakes, 25);
window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>

</body>
</html>









